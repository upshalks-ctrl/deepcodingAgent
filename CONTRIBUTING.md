# è´¡çŒ®æŒ‡å—

æ„Ÿè°¢æ‚¨å¯¹ DeepCodeAgent é¡¹ç›®çš„å…³æ³¨ï¼æˆ‘ä»¬æ¬¢è¿å¹¶æ„Ÿè°¢æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ã€‚

## ğŸ“‹ ç›®å½•

- [è¡Œä¸ºå‡†åˆ™](#è¡Œä¸ºå‡†åˆ™)
- [å¦‚ä½•è´¡çŒ®](#å¦‚ä½•è´¡çŒ®)
- [å¼€å‘æµç¨‹](#å¼€å‘æµç¨‹)
- [ä»£ç è§„èŒƒ](#ä»£ç è§„èŒƒ)
- [æäº¤è§„èŒƒ](#æäº¤è§„èŒƒ)
- [æµ‹è¯•æŒ‡å—](#æµ‹è¯•æŒ‡å—)
- [æ–‡æ¡£è´¡çŒ®](#æ–‡æ¡£è´¡çŒ®)
- [é—®é¢˜åé¦ˆ](#é—®é¢˜åé¦ˆ)
- [ç¤¾åŒº](#ç¤¾åŒº)

## ğŸ¤ è¡Œä¸ºå‡†åˆ™

### æˆ‘ä»¬çš„æ‰¿è¯º
ä¸ºäº†è¥é€ ä¸€ä¸ªå¼€æ”¾å’Œå‹å¥½çš„ç¯å¢ƒï¼Œæˆ‘ä»¬æ‰¿è¯ºï¼š

- ä½¿ç”¨å‹å¥½å’ŒåŒ…å®¹çš„è¯­è¨€
- å°Šé‡ä¸åŒçš„è§‚ç‚¹å’Œç»éªŒ
- ä¼˜é›…åœ°æ¥å—å»ºè®¾æ€§æ‰¹è¯„
- å…³æ³¨å¯¹ç¤¾åŒºæœ€æœ‰åˆ©çš„äº‹æƒ…
- å¯¹å…¶ä»–ç¤¾åŒºæˆå‘˜è¡¨ç¤ºåŒç†å¿ƒ

### ä¸å¯æ¥å—çš„è¡Œä¸º
- ä½¿ç”¨æ€§åˆ«åŒ–è¯­è¨€æˆ–å›¾åƒï¼Œä»¥åŠä¸å—æ¬¢è¿çš„æ€§å…³æ³¨æˆ–æ€§éªšæ‰°
- æ¶æ„è¯„è®ºã€ä¾®è¾±/è´¬æŸè¯„è®ºï¼Œä»¥åŠäººèº«æˆ–æ”¿æ²»æ”»å‡»
- å…¬å¼€æˆ–ç§ä¸‹éªšæ‰°
- æœªç»æ˜ç¡®è®¸å¯å‘å¸ƒä»–äººçš„ç§äººä¿¡æ¯
- å…¶ä»–åœ¨ä¸“ä¸šç¯å¢ƒä¸­å¯èƒ½è¢«è®¤ä¸ºä¸å½“çš„è¡Œä¸º

## ğŸš€ å¦‚ä½•è´¡çŒ®

### æŠ¥å‘ŠBug
å¦‚æœæ‚¨å‘ç°äº†bugï¼Œè¯·ï¼š

1. æ£€æŸ¥[å·²çŸ¥é—®é¢˜](https://github.com/yourusername/deepcodeagent/issues)ç¡®è®¤æ˜¯å¦å·²è¢«æŠ¥å‘Š
2. å¦‚æœæ²¡æœ‰è¢«æŠ¥å‘Šï¼Œè¯·[åˆ›å»ºæ–°issue](https://github.com/yourusername/deepcodeagent/issues/new)
3. ä½¿ç”¨bugæŠ¥å‘Šæ¨¡æ¿ï¼Œæä¾›å°½å¯èƒ½è¯¦ç»†çš„ä¿¡æ¯

### æå‡ºæ–°åŠŸèƒ½
æˆ‘ä»¬æ¬¢è¿åŠŸèƒ½å»ºè®®ï¼è¯·ï¼š

1. æ£€æŸ¥[ç°æœ‰åŠŸèƒ½è¯·æ±‚](https://github.com/yourusername/deepcodeagent/labels/feature%20request)
2. å¦‚æœæ²¡æœ‰ç±»ä¼¼çš„è¯·æ±‚ï¼Œè¯·[åˆ›å»ºæ–°issue](https://github.com/yourusername/deepcodeagent/issues/new)
3. è¯¦ç»†æè¿°æ‚¨å¸Œæœ›æ·»åŠ çš„åŠŸèƒ½å’Œä½¿ç”¨åœºæ™¯

### æäº¤ä»£ç 
è¿™æ˜¯æœ€ç›´æ¥çš„è´¡çŒ®æ–¹å¼ï¼š

1. Forké¡¹ç›®ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. ç¼–å†™ä»£ç 
4. æäº¤Pull Request

## ğŸ”„ å¼€å‘æµç¨‹

### 1. å‡†å¤‡ç¯å¢ƒ
```bash
# Forkå¹¶å…‹éš†æ‚¨çš„ä»“åº“
git clone https://github.com/yourusername/deepcodeagent.git
cd deepcodeagent

# æ·»åŠ ä¸Šæ¸¸ä»“åº“
git remote add upstream https://github.com/original/deepcodeagent.git

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
pip install -r requirements-dev.txt  # å¦‚æœå­˜åœ¨
```

### 2. åˆ›å»ºåˆ†æ”¯
```bash
# åŒæ­¥ä¸Šæ¸¸ä¸»åˆ†æ”¯
git checkout main
git pull upstream main

# åˆ›å»ºæ–°åˆ†æ”¯
git checkout -b feature/your-feature-name
# æˆ–
git checkout -b fix/your-bug-fix
```

### 3. è¿›è¡Œå¼€å‘
- éµå¾ªé¡¹ç›®çš„ä»£ç è§„èŒƒ
- ç¼–å†™æµ‹è¯•è¦†ç›–æ–°åŠŸèƒ½
- æ›´æ–°ç›¸å…³æ–‡æ¡£
- ç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡

### 4. æäº¤æ›´æ”¹
```bash
# æ·»åŠ æ›´æ”¹
git add .

# æäº¤ï¼ˆéµå¾ªæäº¤ä¿¡æ¯è§„èŒƒï¼‰
git commit -m "feat: add new feature description"

# æ¨é€åˆ°æ‚¨çš„fork
git push origin feature/your-feature-name
```

### 5. åˆ›å»ºPull Request
- è®¿é—®GitHubä¸Šçš„forké¡µé¢
- ç‚¹å‡»"New Pull Request"
- å¡«å†™PRæ¨¡æ¿
- ç­‰å¾…ä»£ç å®¡æŸ¥

## ğŸ“ ä»£ç è§„èŒƒ

### Pythonä»£ç é£æ ¼
æˆ‘ä»¬ä½¿ç”¨ä»¥ä¸‹å·¥å…·ç¡®ä¿ä»£ç è´¨é‡ï¼š

- **Black**: ä»£ç æ ¼å¼åŒ–
- **isort**: å¯¼å…¥æ’åº
- **flake8**: ä»£ç æ£€æŸ¥
- **mypy**: ç±»å‹æ£€æŸ¥

### æ ¼å¼åŒ–ä»£ç 
```bash
# æ ¼å¼åŒ–ä»£ç 
black src/ tests/

# æ’åºå¯¼å…¥
isort src/ tests/

# æ£€æŸ¥ä»£ç é£æ ¼
flake8 src/ tests/

# ç±»å‹æ£€æŸ¥
mypy src/
```

### ç¼–ç è§„èŒƒ

#### 1. å‘½åè§„èŒƒ
```python
# ç±»åï¼šPascalCase
class TaskManager:
    pass

# å‡½æ•°å’Œå˜é‡ï¼šsnake_case
def process_data():
    user_input = "value"
    return result

# å¸¸é‡ï¼šUPPER_SNAKE_CASE
MAX_RETRIES = 3
DEFAULT_TIMEOUT = 30
```

#### 2. ç±»å‹æç¤º
```python
from typing import List, Dict, Optional, Union

def process_items(
    items: List[Dict[str, Any]],
    config: Optional[Dict] = None
) -> Dict[str, Union[int, str]]:
    """å‡½æ•°è¯´æ˜"""
    pass
```

#### 3. æ–‡æ¡£å­—ç¬¦ä¸²
```python
def complex_function(
    param1: str,
    param2: int,
    param3: Optional[float] = None
) -> bool:
    """å‡½æ•°ç®€çŸ­æè¿°

    è¯¦ç»†æè¿°å¯ä»¥è·¨è¶Šå¤šè¡Œï¼Œè§£é‡Šå‡½æ•°çš„è¡Œä¸ºã€
    ç®—æ³•ç»†èŠ‚æˆ–ä½¿ç”¨æ³¨æ„äº‹é¡¹ã€‚

    Args:
        param1: å‚æ•°1çš„æè¿°
        param2: å‚æ•°2çš„æè¿°
        param3: å‚æ•°3çš„æè¿°ï¼Œå¯é€‰

    Returns:
        è¿”å›å€¼çš„æè¿°

    Raises:
        ValueError: å½“å‚æ•°ä¸ç¬¦åˆè¦æ±‚æ—¶
        RuntimeError: å½“è¿è¡Œæ—¶å‡ºé”™æ—¶

    Example:
        >>> result = complex_function("test", 10, 3.14)
        >>> print(result)
        True
    """
    pass
```

## ğŸ“‹ æäº¤è§„èŒƒ

æˆ‘ä»¬ä½¿ç”¨[çº¦å®šå¼æäº¤](https://www.conventionalcommits.org/zh-hans/v1.0.0/)è§„èŒƒã€‚

### æäº¤æ ¼å¼
```
<type>[optional scope]: <description>

[optional body]

[optional footer(s)]
```

### ç±»å‹è¯´æ˜
- `feat`: æ–°åŠŸèƒ½
- `fix`: ä¿®å¤bug
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼åŒ–ï¼ˆä¸å½±å“åŠŸèƒ½ï¼‰
- `refactor`: é‡æ„ä»£ç 
- `perf`: æ€§èƒ½ä¼˜åŒ–
- `test`: æ·»åŠ æˆ–ä¿®æ”¹æµ‹è¯•
- `chore`: æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨
- `ci`: CIé…ç½®æ–‡ä»¶å’Œè„šæœ¬çš„å˜åŠ¨

### ç¤ºä¾‹
```bash
feat: add support for new LLM provider

Add integration with XYZ AI provider, enabling users to
use their models for code generation tasks.

Closes #123
```

```bash
fix: resolve memory leak in workflow execution

The workflow was not properly cleaning up resources after
completion, causing memory usage to increase over time.
```

## ğŸ§ª æµ‹è¯•æŒ‡å—

### è¿è¡Œæµ‹è¯•
```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pytest

# è¿è¡Œç‰¹å®šæµ‹è¯•æ–‡ä»¶
pytest tests/unit/test_workflow.py

# è¿è¡Œç‰¹å®šæµ‹è¯•å‡½æ•°
pytest tests/unit/test_workflow.py::test_workflow_function

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
pytest --cov=src --cov-report=html

# è¿è¡Œæ€§èƒ½æµ‹è¯•
pytest tests/performance/
```

### ç¼–å†™æµ‹è¯•

#### å•å…ƒæµ‹è¯•
```python
import pytest
from unittest.mock import AsyncMock, patch
from src.deepcodeagent.workflow import workflowfun

@pytest.mark.asyncio
async def test_workflow_with_mock():
    """æµ‹è¯•å·¥ä½œæµä½¿ç”¨mock"""
    with patch('src.myllms.openai.OpenAI') as mock_openai:
        mock_openai.return_value = AsyncMock()
        result = await workflowfun("test requirement")
        assert result is not None
```

#### é›†æˆæµ‹è¯•
```python
import pytest
from src.deepcodeagent.coordinator import Coordinator

@pytest.mark.integration
@pytest.mark.asyncio
async def test_full_workflow():
    """æµ‹è¯•å®Œæ•´å·¥ä½œæµ"""
    coordinator = Coordinator()
    result = await coordinator.process("åˆ›å»ºä¸€ä¸ªè®¡ç®—å™¨")
    assert result["success"] is True
```

### æµ‹è¯•è¦†ç›–ç‡
- æ–°åŠŸèƒ½å¿…é¡»æœ‰æµ‹è¯•è¦†ç›–
- ç›®æ ‡è¦†ç›–ç‡ï¼š90%ä»¥ä¸Š
- å…³é”®è·¯å¾„è¦†ç›–ç‡ï¼š100%

## ğŸ“š æ–‡æ¡£è´¡çŒ®

### æ–‡æ¡£ç±»å‹
1. **APIæ–‡æ¡£**: è‡ªåŠ¨ç”Ÿæˆï¼Œä»£ç ä¸­çš„docstring
2. **ç”¨æˆ·æ–‡æ¡£**: READMEã€æŒ‡å—ã€æ•™ç¨‹
3. **å¼€å‘è€…æ–‡æ¡£**: æ¶æ„è¯´æ˜ã€è´¡çŒ®æŒ‡å—

### æ–‡æ¡£è§„èŒƒ
- ä½¿ç”¨æ¸…æ™°ç®€æ´çš„è¯­è¨€
- æä¾›å®é™…ç¤ºä¾‹
- ä¿æŒæ–‡æ¡£ä¸ä»£ç åŒæ­¥
- ä½¿ç”¨markdownæ ¼å¼

### æ›´æ–°æ–‡æ¡£
```bash
# æœ¬åœ°é¢„è§ˆæ–‡æ¡£ï¼ˆå¦‚æœä½¿ç”¨MkDocsç­‰ï¼‰
mkdocs serve

# æ£€æŸ¥æ–‡æ¡£é“¾æ¥
markdownlint docs/**/*.md
```

## ğŸ› é—®é¢˜åé¦ˆ

### BugæŠ¥å‘Š
ä½¿ç”¨bugæŠ¥å‘Šæ¨¡æ¿æ—¶ï¼Œè¯·æä¾›ï¼š

1. **ç¯å¢ƒä¿¡æ¯**
   - æ“ä½œç³»ç»Ÿ
   - Pythonç‰ˆæœ¬
   - é¡¹ç›®ç‰ˆæœ¬

2. **é‡ç°æ­¥éª¤**
   - è¯¦ç»†çš„é‡ç°æ­¥éª¤
   - é¢„æœŸè¡Œä¸º
   - å®é™…è¡Œä¸º

3. **é”™è¯¯ä¿¡æ¯**
   - å®Œæ•´çš„é”™è¯¯å †æ ˆ
   - ç›¸å…³æ—¥å¿—

4. **é™„åŠ ä¿¡æ¯**
   - é…ç½®æ–‡ä»¶
   - æœ€å°å¯å¤ç°ä»£ç 

### åŠŸèƒ½è¯·æ±‚
æä¾›ä»¥ä¸‹ä¿¡æ¯ï¼š

1. **é—®é¢˜èƒŒæ™¯**
   - æ‚¨æƒ³è§£å†³çš„é—®é¢˜
   - å½“å‰çš„å·¥ä½œæµç¨‹

2. **å»ºè®®æ–¹æ¡ˆ**
   - è¯¦ç»†çš„åŠŸèƒ½æè¿°
   - ä½¿ç”¨åœºæ™¯

3. **æ›¿ä»£æ–¹æ¡ˆ**
   - è€ƒè™‘è¿‡çš„å…¶ä»–æ–¹æ¡ˆ
   - ä¸ºä»€ä¹ˆå»ºè®®çš„æ–¹æ¡ˆæ›´å¥½

## ğŸ‘¥ ç¤¾åŒº

### æ²Ÿé€šæ¸ é“
- **GitHub Discussions**: [è®¨è®ºåŒº](https://github.com/yourusername/deepcodeagent/discussions)
- **GitHub Issues**: [é—®é¢˜è¿½è¸ª](https://github.com/yourusername/deepcodeagent/issues)
- **Email**: [your-email@example.com](mailto:your-email@example.com)

### è·å–å¸®åŠ©
- æŸ¥çœ‹[æ–‡æ¡£](docs/)
- æœç´¢[å·²çŸ¥é—®é¢˜](https://github.com/yourusername/deepcodeagent/issues)
- åœ¨è®¨è®ºåŒºæé—®

### è®¤å¯è´¡çŒ®è€…
æˆ‘ä»¬ä½¿ç”¨[All Contributors](https://allcontributors.org/)è§„èŒƒæ¥è®¤å¯æ‰€æœ‰è´¡çŒ®è€…ã€‚

## ğŸ“œ è®¸å¯è¯

é€šè¿‡è´¡çŒ®ä»£ç ï¼Œæ‚¨åŒæ„æ‚¨çš„è´¡çŒ®å°†åœ¨[MITè®¸å¯è¯](LICENSE)ä¸‹æˆæƒã€‚

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºDeepCodeAgentåšå‡ºè´¡çŒ®çš„å¼€å‘è€…ï¼

---

æœ‰ä»»ä½•é—®é¢˜å—ï¼Ÿæ¬¢è¿[è”ç³»æˆ‘ä»¬](mailto:your-email@example.com)æˆ–åœ¨[è®¨è®ºåŒº](https://github.com/yourusername/deepcodeagent/discussions)æé—®ã€‚